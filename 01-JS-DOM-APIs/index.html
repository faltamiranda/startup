<!DOCTYPE html>
<html lang="en">
  <head>
    <link href="style.css" rel="stylesheet" type="text/css" >
    <meta charset="utf-8">
    <title>JS</title>
    <script type="text/javascript">
      function eventRequest() {
        let xhttp = new XMLHttpRequest();
        xhttp.open('GET', 'http://api.icndb.com/jokes/random', true);
        xhttp.onreadystatechange = function(event) {
        let response = JSON.parse(event.target.response);
        txt = response.value.joke;
        if (xhttp.readyState === XMLHttpRequest.DONE) {
          document.getElementById('jokeHidden').innerHTML = response.value.joke;
          document.getElementById("buttonjoke").value="Another joke";
                 }
               }
        xhttp.send();
          }

        function show(){
                    let obj = document.getElementById("hidden");
                    if(obj.style.display == "block"){
                            obj.style.display = "none";
                            document.getElementById("buttonShow").value= "Show";
                          }
                    else{
                            obj.style.display = "block";
                            document.getElementById("buttonShow").value= "Hide";
                          }
                        }
    </script>
  </head>
  <body onload="setTimeout(show, 1000);">

    <section>
      <p> This is random content</p>
      And this too.
      <br>
      <p id="hidden">
      Hello world!
      </p>

    <input type="button" id="buttonShow" value="Show" onclick="show();" />
    </section>
    <hr>

    <section id="jokeHidden">
    </section>
      <input type="button" value="Give me a joke" id="buttonjoke" onclick="eventRequest();"/>
    <hr>


  </body>
</html>
